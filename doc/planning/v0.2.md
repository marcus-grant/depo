# Version 0.2 Planning

Post-MVP improvements. Nothing here ships until MVP (v0.1) is complete.

## API responses

Improve programmatic interface beyond plain text.

- JSON serialization for `/api/{code}/info` via Pydantic response models
- Expand `X-Depo-*` headers: format, size, hash (currently only Code, Kind, Created)
- FQDN config option to return full URL in upload response body
- Per-user response format preferences (towards v1 multi-user)

## Classification endpoint

Server-side classification with user confirmation before submission.

- Scheme-less URL detection: `_valid_domain` identifies possible URLs,
  UI prompts user to confirm or override
- HTMX-first approach for partial updates in upload form
- Evaluate lightweight client-side pre-classification:
  - URL reachability checks (config toggle — not always desirable,
    cookie/auth concerns on API side)
  - Base64 content detection
  - Possible URL pattern matching
- Post-MVP MIME mapping for LINK format (deferred — `text/uri-list`
  supports multiple URLs, needs design thought)

## Browser UI improvements

Progressive complexity for the upload form.

- Image paste from clipboard
- File picker
- URL detection in textarea
- Auto-classification preview
- Editable metadata population
- Link page previews (OpenGraph fetching)
- Evaluate separating template tests into dedicated test module
  - Currently inline in route test modules
  - Focus on logic coverage, not appearance
- Palette tuning: evaluate Palette B under real usage
  - Consolidate attention/attention-pause into single role
  - Dark mode palette (separate from light tuning)
  - System 7 purple as focus color candidate
- Bundled web fonts (Source Code Pro or similar, ~50-60KB woff2)
  - System mono sufficient for MVP, font tuning deferred
  - CDN loading rejected for privacy (self-hosting audience)
- Dither patterns on large surfaces
  - Desktop dither concept promising but busy with multiple patterns
  - Explore density, contrast, and which surfaces get patterns vs flat gray
  - Pattern size and color tuning per pattern, especially checkerboard
- Shadow offset rationalization
  - Border width shifts background origin, clean tile multiples don't land
  - Manual tuning works but fragile
