# Version 0.2 Planning

Post-MVP improvements. Nothing here ships until MVP (v0.1) is complete.

## API responses

Improve programmatic interface beyond plain text.

- JSON serialization for `/api/{code}/info` via Pydantic response models
- Expand `X-Depo-*` headers: format, size, hash (currently only Code, Kind, Created)
- FQDN config option to return full URL in upload response body
- Per-user response format preferences (towards v1 multi-user)

## Classification endpoint

Server-side classification with user confirmation before submission.

- Scheme-less URL detection: `_valid_domain` identifies possible URLs,
  UI prompts user to confirm or override
- HTMX-first approach for partial updates in upload form
- Evaluate lightweight client-side pre-classification:
  - URL reachability checks (config toggle — not always desirable,
    cookie/auth concerns on API side)
  - Base64 content detection
  - Possible URL pattern matching
- Post-MVP MIME mapping for LINK format (deferred — `text/uri-list`
  supports multiple URLs, needs design thought)

## Browser UI improvements

Progressive complexity for the upload form.

- Image paste from clipboard
- File picker
- URL detection in textarea
- Auto-classification preview
- Editable metadata population
- Link page previews (OpenGraph fetching)
- Evaluate separating template tests into dedicated test module
  - Currently inline in route test modules
  - Focus on logic coverage, not appearance
